@startuml
floating note: inside TestCase.run(executable : string, aditional_options : string, parser : Parser, file_path: string) : TestStatistics[]
start

:test_case_statistics = [];
:matrix_options = generateMatrixOptions(this.options);
repeat
:stats = TestStatistics();
if (this.input_as_stdin) then (yes)
  :input = open(file_path);
  :stats.start_gathering();
  :output = <b>""this.executable""
  <b>""aditional_options""
  <b>""matrix_options"";
  note: run in subproces
elseif (this.input_as_last_argument) then (yes)
  :stats.start_gathering();
  :output = <b>""this.executable""
  <b>""aditional_options""
  <b>""matrix_options""
  <b>""file_path"";
  note: run in subproces
else (no)
  :stats.start_gathering();
  :output = <b>""this.executable""
  <b>""aditional_options""
  <b>""matrix_options""
  <b>""this.input_after_option""
  <b>""file_path"";
  note: run in subproces
endif
:stats.end_gathering();

if (parser != NULL) then (yes)
  :stats.output = parser.parse(ouput);
endif
:test_case_statistics.append(stats);
repeat while (more matrix_options?)

stop
note: return test_case_statistics

@enduml
